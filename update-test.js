javascript:(function(){const ROTATION_NS='site-rotation-bookmarklet';const styles=`.${ROTATION_NS}-container{transition:all 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);transform-style:preserve-3d;transform-origin:center center;box-shadow:0 10px 20px rgba(0,0,0,0.1)}.${ROTATION_NS}-left-view{transform:perspective(1500px) rotateY(20deg) scale(0.9) translateX(5%);filter:brightness(0.9) contrast(1.1)}.${ROTATION_NS}-right-view{transform:perspective(1500px) rotateY(-20deg) scale(0.9) translateX(-5%);filter:brightness(0.9) contrast(1.1)}.${ROTATION_NS}-default-view{transform:perspective(1500px) rotateY(0deg) scale(1);filter:brightness(1) contrast(1)}.${ROTATION_NS}-overlay{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;background:rgba(0,0,0,0.2);backdrop-filter:blur(5px);z-index:9999;transition:all 0.3s ease;opacity:0}.${ROTATION_NS}-control-panel{position:fixed;top:10px;right:10px;background:white;border:1px solid #ccc;padding:15px;z-index:10000;box-shadow:0 4px 15px rgba(0,0,0,0.2);border-radius:10px;display:flex;flex-direction:column;gap:10px}.${ROTATION_NS}-control-panel select,.${ROTATION_NS}-control-panel input{padding:5px;border:1px solid #ddd;border-radius:4px}body.${ROTATION_NS}-active{overflow-x:hidden}.${ROTATION_NS}-color-overlay{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:10001;opacity:0;transition:all 0.3s ease}`;function injectStyles(){const styleEl=document.createElement('style');styleEl.id=`${ROTATION_NS}-styles`;styleEl.textContent=styles;document.head.appendChild(styleEl)}function createControlPanel(){const existingPanel=document.getElementById(`${ROTATION_NS}-control`);if(existingPanel)existingPanel.remove();const panel=document.createElement('div');panel.id=`${ROTATION_NS}-control`;panel.className=`${ROTATION_NS}-control-panel`;const viewSelect=document.createElement('select');viewSelect.id=`${ROTATION_NS}-view-select`;const viewOptions=[{value:'default',label:'Default View'},{value:'left',label:'Left View'},{value:'right',label:'Right View'}];viewOptions.forEach(opt=>{const option=document.createElement('option');option.value=opt.value;option.textContent=opt.label;viewSelect.appendChild(option)});viewSelect.addEventListener('change',(e)=>{const container=document.querySelector(`.${ROTATION_NS}-container`);if(!container)return;container.classList.remove(`${ROTATION_NS}-left-view`,`${ROTATION_NS}-right-view`,`${ROTATION_NS}-default-view`);const view=e.target.value;if(view!=='default'){container.classList.add(`${ROTATION_NS}-${view}-view`)}else{container.classList.add(`${ROTATION_NS}-default-view`)}});panel.appendChild(viewSelect);const colorSelect=document.createElement('select');colorSelect.id=`${ROTATION_NS}-color-select`;const colorOptions=[{value:'none',label:'No Color Overlay'},{value:'red',label:'Red Tint'},{value:'blue',label:'Blue Tint'},{value:'green',label:'Green Tint'}];colorOptions.forEach(opt=>{const option=document.createElement('option');option.value=opt.value;option.textContent=opt.label;colorSelect.appendChild(option)});colorSelect.addEventListener('change',(e)=>{const colorOverlay=document.getElementById(`${ROTATION_NS}-color-overlay`);if(!colorOverlay)return;const color=e.target.value;switch(color){case 'red':colorOverlay.style.backgroundColor='rgba(255,0,0,0.2)';colorOverlay.style.opacity='0.3';break;case 'blue':colorOverlay.style.backgroundColor='rgba(0,0,255,0.2)';colorOverlay.style.opacity='0.3';break;case 'green':colorOverlay.style.backgroundColor='rgba(0,255,0,0.2)';colorOverlay.style.opacity='0.3';break;default:colorOverlay.style.opacity='0'}});panel.appendChild(colorSelect);document.body.appendChild(panel)}function createCursorOverlay(){const existingOverlay=document.getElementById(`${ROTATION_NS}-cursor-overlay`);if(existingOverlay)existingOverlay.remove();const overlay=document.createElement('div');overlay.id=`${ROTATION_NS}-cursor-overlay`;overlay.className=`${ROTATION_NS}-overlay`;document.body.appendChild(overlay);const colorOverlay=document.createElement('div');colorOverlay.id=`${ROTATION_NS}-color-overlay`;colorOverlay.className=`${ROTATION_NS}-color-overlay`;document.body.appendChild(colorOverlay);document.addEventListener('mousemove',(e)=>{const overlay=document.getElementById(`${ROTATION_NS}-cursor-overlay`);if(!overlay)return;const windowWidth=window.innerWidth;const windowHeight=window.innerHeight;const distanceFromLeft=e.clientX;const distanceFromRight=windowWidth-e.clientX;const distanceFromTop=e.clientY;const distanceFromBottom=windowHeight-e.clientY;const maxBlurDistance=Math.min(windowWidth,windowHeight)/3;const averageDistance=(maxBlurDistance-distanceFromLeft)+(maxBlurDistance-distanceFromRight)+(maxBlurDistance-distanceFromTop)+(maxBlurDistance-distanceFromBottom)/4;const blurAmount=Math.max(0,Math.min(averageDistance/maxBlurDistance*10,10));const opacity=Math.max(0,Math.min(averageDistance/maxBlurDistance,0.5));overlay.style.backdropFilter=`blur(${blurAmount}px)`;overlay.style.opacity=opacity})}function init(){const container=document.createElement('div');container.className=`${ROTATION_NS}-container ${ROTATION_NS}-default-view`;const bodyChildren=Array.from(document.body.children);bodyChildren.forEach(child=>{if(child.id!==`${ROTATION_NS}-control`&&child.id!==`${ROTATION_NS}-cursor-overlay`&&child.id!==`${ROTATION_NS}-color-overlay`){container.appendChild(child)}});document.body.appendChild(container);document.body.classList.add(`${ROTATION_NS}-active`);injectStyles();createControlPanel();createCursorOverlay()}function cleanup(){const container=document.querySelector(`.${ROTATION_NS}-container`);const panel=document.getElementById(`${ROTATION_NS}-control`);const overlay=document.getElementById(`${ROTATION_NS}-cursor-overlay`);const colorOverlay=document.getElementById(`${ROTATION_NS}-color-overlay`);const styleEl=document.getElementById(`${ROTATION_NS}-styles`);if(container){const containerChildren=Array.from(container.children);containerChildren.forEach(child=>{document.body.appendChild(child)});container.remove()}if(panel)panel.remove();if(overlay)overlay.remove();if(colorOverlay)colorOverlay.remove();if(styleEl)styleEl.remove();document.body.classList.remove(`${ROTATION_NS}-active`)}const existingContainer=document.querySelector(`.${ROTATION_NS}-container`);if(existingContainer){cleanup()}else{init()}})();
